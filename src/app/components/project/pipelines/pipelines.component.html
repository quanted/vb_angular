<div class="pipelines">
    <mat-expansion-panel (opened)="globalCVOpenState = true" (closed)="globalCVOpenState = false">
        <mat-expansion-panel-header>
            <mat-panel-title><h3>Project Cross Validation Options:</h3></mat-panel-title>
        </mat-expansion-panel-header>
        <app-global-cv
            *ngIf="vbHelper !== undefined && vbHelperPipeInfo !== undefined"
            [vbHelper]="vbHelper"
            [vbHelperPipeInfo]="vbHelperPipeInfo"
        ></app-global-cv>
    </mat-expansion-panel>

    <mat-expansion-panel (opened)="projectPipelinesOpenState = true" (closed)="projectPipelinesOpenState = false">
        <mat-expansion-panel-header>
            <mat-panel-title><h3>Project Pipelines:</h3></mat-panel-title>
        </mat-expansion-panel-header>
        <app-pipeline-detail
            *ngFor="let pipeline of pipelines"
            [pipeline]="pipeline"
            [pipelineInfo]="pipelineInfo"
        ></app-pipeline-detail>
    </mat-expansion-panel>

    <div *ngIf="!creatingPipeline">
        <button mat-flat-button color="primary" type="button" mat-button (click)="createPipeline()">
            Add Pipeline
        </button>
    </div>

    <div *ngIf="creatingPipeline">
        <app-create-pipeline
            *ngIf="vbHelper !== undefined && pipelineInfo !== undefined"
            [vbHelper]="vbHelper"
            [pipelineInfo]="pipelineInfo"
            (pipelineCreated)="pipelineCreated($event)"
            (pipelineCancelled)="pipelineCancelled()"
        ></app-create-pipeline>
    </div>
</div>
