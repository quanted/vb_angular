<div class="project-panel">
    <app-navigation></app-navigation>
    <div *ngIf="!project">
        <app-project-create></app-project-create>
    </div>
    <div class="project">
        <mat-card class="project-card">
            <ng-container *ngIf="project">
                <!-- Project Details-->
                <div id="project-name">
                    <span id="name">{{ project.name }}</span>
                    <span id="description">{{ project.description }}</span>
                </div>
                <!-- Location -->
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Location</mat-panel-title>
                        <mat-panel-description>
                            {{ locationName }}
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <app-location
                        [locationID]="project.location"
                        [projectID]="project.id"
                        (setLocation)="setLocation($event)"
                    ></app-location>
                </mat-expansion-panel>
                <!-- Data -->
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Data</mat-panel-title>
                        <mat-panel-description>
                            {{ datasetName }}
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <app-data [datasetID]="project.dataset" (setDataset)="setDataset($event)"></app-data>
                </mat-expansion-panel>
                <!-- Analytical -->
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>Model</mat-panel-title>
                        <mat-panel-description>
                            {{ pipelineNames }}
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <app-analytical [projectID]="project.id" (setPipelines)="setPipelines($event)"></app-analytical>
                </mat-expansion-panel>
                <!-- project execution -->
                <ng-container *ngIf="canExecute">
                    <div id="execute">
                        <button type="button" mat-flat-button color="warn" (click)="executeProject()">
                            Execute project
                        </button>
                    </div>
                </ng-container>
            </ng-container>
        </mat-card>
    </div>
</div>
