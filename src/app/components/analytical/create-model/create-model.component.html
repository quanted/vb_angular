<mat-horizontal-stepper [linear]="isLinear" #stepper>
  <!-- Resampling Approach -->
  <mat-step  [stepControl]="resamplingApproachFormGroup">
    <form [formGroup]="resamplingApproachFormGroup">
      <h4>Choose resampling options.</h4>
      <h3 style="color: grey">Cross-Validation</h3>
      <ng-template matStepLabel>Resampling Approach</ng-template>
      <mat-form-field>
        <mat-label>Gridpoints</mat-label>
        <input matInput formControlName="gridpointsCtrl">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Cross-Validation Folds</mat-label>
        <input matInput formControlName="cvFoldsCtrl">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Cross-Validation Repetitions</mat-label>
        <input matInput formControlName="cvRepsCtrl">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Cross-Validation Group Count</mat-label>
        <input matInput formControlName="cvGroupCountCtrl">
      </mat-form-field>
      <mat-form-field>
        <mat-label>Cross-Validation Strategy</mat-label>
        <input matInput formControlName="cvStrategyCtrl">
      </mat-form-field>
      <h3 style="color: grey">Bootstrap</h3>
      <mat-form-field>
        <mat-label>Bootstrap Strategy</mat-label>
        <input matInput formControlName="bootStrategyCtrl">
      </mat-form-field>
    </form>
  </mat-step>


  <!--Model Name-->
  <!--
  <mat-step [stepControl]="nameFormGroup">
    <form [formGroup]="nameFormGroup">
      <h4>Type a name and description for this model.</h4>
      <ng-template matStepLabel>Name</ng-template>
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput placeholder="Model name" formControlName="nameCtrl" required>
      </mat-form-field>
      <mat-form-field style="width: 100%;">
        <mat-label>Description</mat-label>
        <textarea matInput placeholder=""></textarea>
      </mat-form-field>
    </form>
  </mat-step>
  -->

  <!--Select Data-->
  <!--
  <mat-step [stepControl]="selectDataFormGroup" label="Select Data">
    <form [formGroup]="selectDataFormGroup">
      <h4 style="margin-bottom: -5px;">Select the dependent variable to be modelled.</h4>
      <mat-form-field>
        <mat-label>Dependant Variable</mat-label>
        <mat-select formControlName="dependantVar" (selectionChange)="onChangeDependantSelection($event)"  required>
          <mat-option *ngFor="let v of vars" [value]="v">
            {{v}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <h4>Select all of the independent variables to include in the model.</h4>
        <div>
          <mat-checkbox color="primary" (change)="onSelectAll($event)" #selectAll>
            Select All
          </mat-checkbox>
        </div>
        <ul class="independent">
          <li *ngFor="let v of vars">
            <mat-checkbox color="primary" [value]="v" #checkboxes>
              {{v}}
            </mat-checkbox>
          </li>
        </ul>
      </div>
    </form>
  </mat-step>
  -->

  <!--Analytical Pipelines-->
  <mat-step [stepControl]="methodFormGroup" label="Analytical Pipelines">
    <form [formGroup]="methodFormGroup">
      <h4>Add pipelines for this experiment.</h4>
      <div formArrayName="estimators">
        <div class="estimator"
             *ngFor="let estimator of methodFormGroup.get('estimators')['controls']; let estIndex = index"
             [formGroupName]="estIndex">
          <div [formGroup]="estimator">
            <h3 style="color: gray">Pipeline #{{estIndex + 1}}</h3>
            <mat-form-field>
              <mat-label>Name</mat-label>
              <input matInput placeholder="Pipeline Name" formControlName="nameCtrl" required>
            </mat-form-field>
            <mat-form-field style="width: 90%;">
              <mat-label>Description</mat-label>
              <textarea matInput placeholder=""></textarea>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Estimator</mat-label>
              <mat-select formControlName="estimatorSelect" (selectionChange)="onChangeEstimator($event)" required>
                <mat-option *ngFor="let type of types" [value]="type">
                  {{type}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Imputation</mat-label>
              <input matInput formControlName="imputationCtrl">
            </mat-form-field>
            <mat-form-field>
              <mat-label>Feature Selection</mat-label>
              <input matInput formControlName="featureCtrl">
            </mat-form-field>
          </div>
        </div>
      </div>
      <button mat-raised-button class="new" (click)="addMethod();">Add Method</button>
    </form>
  </mat-step>

  <!--Run-->
  <mat-step>
    <ng-template matStepLabel>Run</ng-template>
    <h4>Click run to begin developing your experiment.</h4>
    <div>
      <button mat-raised-button class="new" (click)="runModel($event);">Run</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
